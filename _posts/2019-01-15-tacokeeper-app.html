---
permalink: /tacokeeper
---
{%- assign options = site.data.tacokeeper.options -%}
<!DOCTYPE html>
<html>
  <head>
    <title>TacoKeeper</title>

    <style type="text/css">
      h2 {
        display: inline;
      }
    </style>

    <script type="text/javascript">
      var $tweetLink;
      var model = {};
      var twitterIntentUrl = 'https://twitter.com/intent/tweet?';

      document.addEventListener('DOMContentLoaded', function (event) {
        $tweetLink = document.getElementById('tweet');

        var inputs = document.querySelectorAll('input');

        for (var i = 0; i < inputs.length; i++) {
          inputs[i].addEventListener('input', function (event) {
            model[this.name] = this.value;
            updateHref();
          });
        }
      });

      function updateHref() {
        var data = Object.keys(model)
          .map(function (key) {
            return key.replace('input-', '') + model[key];
          })
          .join('');

        $tweetLink.href = twitterIntentUrl +
          'text=' + data;
      }
    </script>
  </head>

  <body>
    {%- for option in options -%}
    <div>
      <input type="number"
             name="input-{{ option.key }}"
             value="0"
             min="0"
             max="99">
      <h2>{{ option.name | capitalize }}</h2>
    </div>
    {%- endfor -%}

    <a href="https://twitter.com/intent/tweet"
       id="tweet">Tweet</a>
  </body>
</html>
