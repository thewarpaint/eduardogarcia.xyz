---
permalink: /blog/lambda
---
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Lambda">
    <meta name="description" content="Cálculo Mental">

    <title>Lambda: Cálculo Mental - eduardogarcia.xyz</title>

    <style type="text/css">
      :root {
        --blue-a700: #304ffe;
        --pink-a400: #f50057;
        --yellow-a700: #ffd600;
        --black: #000000;
        --white: #ffffff;
      }

      body {
        font-family: monospace;
        font-size: 16px;
      }

      .white-on-blue {
        background-color: var(--blue-a700);
        color: var(--white);
      }

      .white-on-blue .operation__answer,
      .white-on-blue .operation__submit {
        border-color: var(--white);
        color: var(--white);
      }

      .black-on-pink {
        background-color: var(--pink-a400);
        color: var(--black);
      }

      .black-on-pink .operation__answer,
      .black-on-pink .operation__submit {
        border-color: var(--black);
        color: var(--black);
      }

      .black-on-yellow {
        background-color: var(--yellow-a700);
        color: var(--black);
      }

      .black-on-yellow .operation__answer,
      .black-on-yellow .operation__submit {
        border-color: var(--black);
        color: var(--black);
      }

      .title {
        font-size: 2.5vw;
        text-align: center;
      }

      .operation,
      .operation__answer {
        font-size: 15vw;
      }

      .operation {
        text-align: center;
      }

      .operation__answer,
      .operation__submit {
        background: transparent;
        font-family: monospace;
      }

      .operation__answer {
        border: none;
        border-bottom: .5vw solid;
        font-family: monospace;
        text-align: center;
        width: 33vw;
      }

      .operation__submit {
        margin-top: 2.5rem;
        padding: 2.5vw 5vw;
        font-size: 10vw;
      }

      .black-on-yellow .operation__answer,
      .black-on-yellow .operation__submit {
        border-color: var(--black);
      }
    </style>

    <script type="text/javascript">
      const $dom = {
        form: null,
        operandA: null,
        operandB: null,
        answer: null,
        submit: null,
      };

      const state = {
        operandA: null,
        operandB: null,
        answer: null,
      };

      function setup() {
        $dom.form = document.getElementById('form');
        $dom.operandA = document.getElementById('operand-a');
        $dom.operandB = document.getElementById('operand-b');
        $dom.answer = document.getElementById('answer');
        $dom.submit = document.getElementById('submit');

        $dom.form.addEventListener('submit', (event) => {
          event.preventDefault();

          updateState({
            answer: parseInt($dom.answer.value, 10),
          });

          evaluateAnswer();
        });

        updateOperation();
      }

      function updateOperation() {
        updateState({
          operandA: getRandomInt(10),
          operandB: getRandomInt(10),
          answer: '',
        });

        $dom.answer.focus();
      }

      function evaluateAnswer() {
        const isCorrect = (state.operandA * state.operandB) === state.answer;

        document.body.classList.remove('white-on-blue', 'black-on-pink', 'black-on-yellow');
        document.body.classList.add(isCorrect ? 'white-on-blue' : 'black-on-pink');

        updateOperation();
      }

      function updateState(newState = {}) {
        Object.assign(state, newState);

        $dom.operandA.innerText = state.operandA;
        $dom.operandB.innerText = state.operandB;
        $dom.answer.value = state.answer;

        console.debug('state', state);
      }

      function getRandomInt(max) {
        return Math.ceil(Math.random() * max);
      }

      document.addEventListener('DOMContentLoaded', (event) => {
        setup();
      });
    </script>
  </head>

  <body class="black-on-yellow">
    <h1 class="title">
      λ
    </h1>

    <section class="operation">
      <form id="form">
        <div>
          <div>
            <span id="operand-a">
              99
            </span>
            ×
            <span id="operand-b">
              99
            </span>
          </div>

          <div>
            =
          </div>

          <input
            type="tel"
            id="answer"
            class="operation__answer"
            value="999"
          >
        </div>

        <button
          type="submit"
          id="submit"
          class="operation__submit"
        >
          calificar
        </button>
      </form>
    </section>
  </body>
</html>
